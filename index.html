<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Avukat Asistanı - Profesyonel Hukuk Yönetimi</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@300;400;500;600&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
    <div class="app-container">
        <!-- Sidebar Navigation -->
        <aside class="sidebar">
            <div class="logo-area">
                <i class="fas fa-balance-scale"></i>
                <h1>Hukuk<span class="gold-text">As</span></h1>
            </div>
            <nav class="main-nav">
                <ul>
                    <li onclick="app.router.navigate('dashboard')" class="active"><i class="fas fa-home"></i> Genel
                        Bakış</li>
                    <li onclick="app.router.navigate('clients')"><i class="fas fa-users"></i> Müvekkiller</li>
                    <li onclick="app.router.navigate('cases')"><i class="fas fa-gavel"></i> Davalar</li>
                    <li onclick="app.router.navigate('legislation')"><i class="fas fa-book-open"></i> Mevzuat & İçtihat
                    </li>
                    <li onclick="app.router.navigate('tools')"><i class="fas fa-calculator"></i> Araçlar</li>
                    <li onclick="app.router.navigate('decisions')"><i class="fas fa-gavel"></i> Yargıtay Kararları</li>
                    <li onclick="app.router.navigate('petitions')"><i class="fas fa-file-signature"></i> Dava
                        Dilekçeleri</li>
                    <li onclick="app.router.navigate('todos')"><i class="fas fa-check-square"></i> Yapılacaklar</li>
                    <li onclick="app.router.navigate('calendar')"><i class="fas fa-calendar-alt"></i> Ajanda</li>
                    <li onclick="app.router.navigate('finance')"><i class="fas fa-coins"></i> Muhasebe</li>
                </ul>
            </nav>
            <div class="user-profile">
                <div class="user-avatar">AV</div>
                <div class="user-info">
                    <span class="user-name">Av. Kullanıcı</span>
                    <span class="user-role">Yönetici</span>
                </div>
                <div class="user-actions">
                    <button title="Profili Düzenle" onclick="app.ui.editProfile()"><i class="fas fa-pen"></i></button>
                    <button title="Çıkış"
                        onclick="if(confirm('Çıkış yapılsın mı?')) { localStorage.removeItem('userProfile'); location.reload(); }"><i
                            class="fas fa-sign-out-alt"></i></button>
                </div>
            </div>
        </aside>

        <!-- Main Content Area -->
        <main class="main-content">
            <header class="top-bar">
                <div style="display:flex; align-items:center;">
                    <button class="menu-toggle" id="sidebarToggle"><i class="fas fa-bars"></i></button>
                    <div class="page-title" id="pageTitle">Genel Bakış</div>
                </div>
                <div class="actions">
                    <div class="search-container" style="position:relative; margin-right:1rem;">
                        <input type="text" placeholder="Genel Arama..." onkeyup="app.ui.globalSearch(this.value)"
                            style="padding:6px 10px; border-radius:20px; border:1px solid #ccc; font-size:0.9rem; width:200px; transition:width 0.3s; padding-left:30px;">
                        <i class="fas fa-search"
                            style="position:absolute; left:10px; top:50%; transform:translateY(-50%); color:#888;"></i>
                        <div id="globalSearchResults"
                            style="display:none; position:absolute; top:100%; right:0; width:300px; background:white; border:1px solid #ddd; box-shadow:0 4px 6px rgba(0,0,0,0.1); z-index:1000; border-radius:4px; max-height:400px; overflow-y:auto;">
                        </div>
                    </div>
                    <button class="icon-btn" onclick="app.ui.openSettingsModal()" title="Ayarlar"><i
                            class="fas fa-cog"></i></button>
                    <button class="icon-btn" onclick="app.ui.openFileModal()" title="Dosya Görüntüle"><i
                            class="fas fa-folder-open"></i></button>
                    <button class="icon-btn" title="Bildirimler"><i class="fas fa-bell"></i><span
                            class="badge">3</span></button>
                    <button class="icon-btn" title="Ayarlar"><i class="fas fa-cog"></i></button>
                    <button class="theme-toggle" onclick="app.ui.toggleTheme()" title="Temayı Değiştir">
                        <i class="fas fa-moon"></i>
                    </button>
                </div>
            </header>

            <div id="contentArea" class="content-area">
                <!-- Dynamic Content will be loaded here -->
                <div class="dashboard-grid">
                    <div class="stat-card">
                        <div class="icon"><i class="fas fa-users"></i></div>
                        <div class="data">
                            <h3>Aktif Müvekkil</h3>
                            <p class="number" id="totalClients">0</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="icon"><i class="fas fa-file-contract"></i></div>
                        <div class="data">
                            <h3>Açık Davalar</h3>
                            <p class="number" id="activeCases">0</p>
                        </div>
                    </div>
                    <div class="stat-card urgent">
                        <div class="icon"><i class="fas fa-calendar-alt"></i></div>
                        <div class="data">
                            <h3>Yaklaşan Duruşma</h3>
                            <p class="number" id="upcomingHearings">0</p>
                        </div>
                    </div>
                </div>

                <div class="recent-activity-section">
                    <h2><i class="fas fa-history"></i> Son Hareketler</h2>
                    <ul class="activity-list" id="recentActivity">
                        <!-- Activity items populated by JS -->
                    </ul>
                </div>
            </div>
        </main>
    </div>

    <!-- Settings Modal -->
    <div id="settingsModal" class="modal-overlay hidden">
        <div class="modal-container">
            <div class="modal-header">
                <h3><i class="fas fa-cog"></i> Ayarlar</h3>
                <button class="close-modal" onclick="app.ui.closeSettingsModal()"><i class="fas fa-times"></i></button>
            </div>
            <div class="modal-body">
                <h4>Genel Ayarlar</h4>
                <div class="form-group" style="margin-bottom:1rem;">
                    <label>Uygulama Başlığı</label>
                    <input type="text" id="settingAppTitle" placeholder="HukukAs"
                        style="width:100%; padding:8px; border:1px solid #ddd; border-radius:4px;">
                </div>
                <div class="form-group" style="margin-bottom:1rem;">
                    <label>Yazı Tipi</label>
                    <select id="settingAppFont"
                        style="width:100%; padding:8px; border:1px solid #ddd; border-radius:4px;">
                        <option value="'Inter', sans-serif">Inter (Varsayılan)</option>
                        <option value="'Roboto', sans-serif">Roboto</option>
                        <option value="'Georgia', serif">Georgia</option>
                        <option value="'Times New Roman', serif">Times New Roman</option>
                        <option value="'Courier New', monospace">Courier New</option>
                        <option value="'Arial', sans-serif">Arial</option>
                    </select>
                </div>

                <h4>Görünüm Ayarları</h4>
                <div class="font-controls">
                    <span>Yazı Boyutu:</span>
                    <button class="btn secondary small" onclick="app.ui.changeFontSize(-1)"><i
                            class="fas fa-minus"></i></button>
                    <span id="currentFontSize">100%</span>
                    <button class="btn secondary small" onclick="app.ui.changeFontSize(1)"><i
                            class="fas fa-plus"></i></button>
                </div>

                <h4>Tema Seçimi</h4>
                <div class="theme-grid">
                    <button class="theme-btn" style="background:#1e3a8a; color:#fff;"
                        onclick="app.ui.setTheme('')">Kurumsal</button>
                    <button class="theme-btn" style="background:#18181b; color:#d4af37;"
                        onclick="app.ui.setTheme('theme-dark')">Gece</button>
                    <button class="theme-btn" style="background:#f0f2ef; color:#2c5530;"
                        onclick="app.ui.setTheme('theme-sage')">Adaçayı</button>
                    <button class="theme-btn" style="background:#fff5f5; color:#720e1e;"
                        onclick="app.ui.setTheme('theme-ruby')">Bordo</button>
                    <button class="theme-btn" style="background:#f1f1f1; color:#334155;"
                        onclick="app.ui.setTheme('theme-slate')">Arduvaz</button>
                    <button class="theme-btn" style="background:#fff8e1; color:#5d4037;"
                        onclick="app.ui.setTheme('theme-sand')">Kum</button>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn primary" onclick="app.ui.saveSettings()">Kaydet ve Kapat</button>
            </div>
        </div>
    </div>

    <!-- Profile Edit Modal -->
    <div id="profileModal" class="modal-overlay hidden">
        <div class="modal-container">
            <div class="modal-header">
                <h3>Profili Düzenle</h3>
                <button class="close-modal" onclick="app.ui.closeProfileModal()"><i class="fas fa-times"></i></button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>Ad Soyad</label>
                    <input type="text" id="profileName" placeholder="Av. Adınız Soyadınız">
                </div>
                <div class="form-group">
                    <label>Ünvan</label>
                    <input type="text" id="profileRole" placeholder="Örn: Yönetici Avukat">
                </div>
                <div class="form-group">
                    <label>Profil Fotoğrafı</label>
                    <input type="file" id="profileAvatarInput" accept="image/*">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn primary" onclick="app.ui.saveProfile()">Kaydet</button>
            </div>
        </div>
    </div>


    <!-- PDF/File View Modal -->
    <div id="fileModal" class="modal-overlay hidden">
        <div class="modal-container" style="max-width: 900px; height: 90vh; display: flex; flex-direction: column;">
            <div class="modal-header">
                <h3>Dosya Görüntüle</h3>
                <button class="close-modal" onclick="app.ui.closeFileModal()"><i class="fas fa-times"></i></button>
            </div>
            <div class="modal-body"
                style="flex: 1; padding: 0; overflow: hidden; display: flex; flex-direction: column;">
                <iframe id="fileViewer" style="width: 100%; flex: 1; border: none;" src=""></iframe>
            </div>
            <div class="modal-footer">
                <input type="file" id="fileInput" accept="application/pdf, text/plain, image/*" style="display: none;"
                    onchange="app.ui.handleFileSelect(this)">
                <button class="btn secondary" onclick="document.getElementById('fileInput').click()"><i
                        class="fas fa-upload"></i> Dosya Seç</button>
                <button class="btn primary" onclick="app.ui.closeFileModal()">Kapat</button>
            </div>
        </div>
    </div>

    <!-- General Form Data Modal -->
    <div id="modalOverlay" class="modal-overlay hidden">
        <div class="modal-container">
            <div class="modal-header">
                <h3 id="modalTitle">Modal Title</h3>
                <button class="close-modal" onclick="app.ui.closeModal()"><i class="fas fa-times"></i></button>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- Modal content -->
            </div>
            <div class="modal-footer" id="modalFooter">
                <button class="btn secondary" onclick="app.ui.closeModal()">İptal</button>
                <button class="btn primary" id="modalConfirmBtn">Kaydet</button>
            </div>
        </div>
    </div>

    <script src="data.js"></script>
    <script src="app.js"></script>
</body>

</html>